---
title: "Linear Regression"
author: ""
output:
  prettydoc::html_pretty:
    theme: tactile
    highlight: github
    css: styles.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include = FALSE}
library(tidyverse)
library(palmerpenguins)
```

In this module, you'll learn to compute linear regression models in R.  

`r emo::ji("play button")` Watch Videos: 20 minutes

  * `r emo::ji("link")` Link to **all** Slides from Videos: [here (will be published with videos)]()

`r emo::ji("book")` Readings: 45-60 minutes   

`r emo::ji("computer")` Activities: 30 minutes  
  
`r emo::ji("check")` Check-ins: 1

---

## Review of Simple (Basic) Linear Regression

`r emo::ji("book")` [Recommended Reading -- _Modern Dive _: Basic Regression](https://moderndive.com/5-regression.html)

`r emo::ji("play")` [Recommended Video -- Simple Linear Regression (will post Sunday by 7pm)]()


## Assumptions of Linear Regression

`r emo::ji("play button")` [Recommended Video -- Regression Assumptions (will post Sunday by 7pm)]()

---

## Visualizing Linear Regression

```{r, message = FALSE, warning = FALSE}
library(palmerpenguins)

penguins %>%
  ggplot(aes(x = bill_depth_mm, y = bill_length_mm)) +
  geom_point() +
  stat_smooth(method = "lm") + 
  labs(x = "Bill Depth (mm)", 
       y = "Bill Length (mm)")
```

## Fitting Linear Regression Models in R -- Supervised Learning

```{r}
my_model <- penguins %>%
  lm(bill_length_mm ~ bill_depth_mm, data = .)
```

## Accessing Model Estimates

### Raw Coefficients 

```{r}
my_model
```

### Model Summary

```{r}
summary(my_model)
```

### Tidy Model Summary

```{r}
broom::tidy(my_model) 
```

---

`r emo::ji("check")` **Check-in: Linear Regression**

**Question 1: Code**

a) What is the `data = .` argument in the `lm()` function?

b) What happens if you switch the order of `bill_length_mm` and `bill_depth_mm`
in the `lm()` formula?

c) What *object type* was returned by `summary()`?  What about by `tidy()`?


**Question 2: Interpretation**

a) What is the equation for the estimated regression line?

b) Penguin Bob has a bill that is 5mm deeper than Penguin Judy. How much longer
do you expect Penguin Bob's bill to be?


**Question 3: A more complex model**

Run the following code, and explore the results:

```{r}
my_model_2 <- penguins %>%
  lm(bill_length_mm ~ bill_depth_mm*species, data = .)
```


a) Make a plot illustrating `my_model_2`. Upload a picture of your plot! 
*(Hint: what needs to change in the aesthetic of the plot above?)*

b) Which model of the two models explains the most variance in `bill_length_mm`?

c) Do the three species of penguin have the same average bill length?  How do
you know?

d) Do the three species of penguin have the same bill shape (i.e., the
relationship between length and depth)?  How do you know?
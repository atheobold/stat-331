<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.120">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab 9: Baby Names</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="lab9_babynames_files/libs/clipboard/clipboard.min.js"></script>
<script src="lab9_babynames_files/libs/quarto-html/quarto.js"></script>
<script src="lab9_babynames_files/libs/quarto-html/popper.min.js"></script>
<script src="lab9_babynames_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lab9_babynames_files/libs/quarto-html/anchor.min.js"></script>
<link href="lab9_babynames_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lab9_babynames_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lab9_babynames_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lab9_babynames_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lab9_babynames_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 9: Baby Names</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="the-data" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="the-data"><span class="header-section-number">1</span> The Data</h2>
<p>Our dataset in this lab concerns baby names and their popularity over time. The dataset <code>babies_ca.csv</code> has information about baby names in California from 1940-2016. For each year, and for each name with at least 50 recorded babies born, we are given the counts of how many babies had that name.</p>
<p>At <a href="https://www.dropbox.com/sh/czm61yzmvzl6xfb/AABEFdpy02aNRhZ_vcxrVAQSa?dl=0">this link</a>, you can find the names for ALL 50 states, in separate datasets organized by first letter.</p>
</section>
<section id="is-my-name-not-cool-any-more" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="is-my-name-not-cool-any-more"><span class="header-section-number">2</span> Is my name not cool any more?</h2>
<p>Let’s take a look at how the name “Kelly” has changed over time.</p>
<ol type="1">
<li>Make a plot showing the number of babies named “Allison” born each year in CA. Color the plot to show the sex assigned at birth to these babies.</li>
</ol>
<div class="callout-danger callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Danger
</div>
</div>
<div class="callout-body-container callout-body">
<p>The dataset has a column titled <code>Gender</code>, which contains two values <code>"F"</code> and <code>"M"</code>, representing “Female” and “Male”. The sex someone was assigned at birth is different from their gender identity <a href="https://www.plannedparenthood.org/learn/gender-identity/sex-gender-identity">(definitions)</a>. Thus, this variable should be renamed to <code>Sex</code> or <code>Sex Assigned at Birth</code>.</p>
</div>
</div>
<ol start="2" type="1">
<li><p>I was born in 1989. Let’s look at only the time frame since I was named. Narrow down the dataset to only 1989 onward.</p></li>
<li><p>Create a linear model with the year as the explanatory variable, and the number of Allisons as the response. Summarize the results, and plot the model.</p></li>
<li><p>Plot the <em>residuals</em> of the model, that is, the actual values minus the predicted values. Comment on the residuals - do you see any patterns?</p></li>
</ol>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>augment()</code> function from the <strong>broom</strong> package may be helpful!</p>
</div>
</div>
<ol start="4" type="1">
<li>Now include <code>Sex</code> as an explanatory variable in the regression model. Specifically, <code>Sex</code> should have <strong>both</strong> a “main effect” and an “interaction effect” with <code>Year</code>.</li>
</ol>
<p>Plot the model and the residuals, and comment on any patterns in the residuals.</p>
<ol start="5" type="1">
<li>What do you conclude from this model?</li>
</ol>
</section>
<section id="spelling-by-state" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="spelling-by-state"><span class="header-section-number">3</span> Spelling by state</h2>
<p>In middle school I was <strong>so</strong> upset with my parents for not naming me “Allyson”. Past my pre-teen rebellion, I’m happy with my name and am impressed when baristas spell it “Allison” instead of “Alison”. But I don’t have it as bad as my good friend Allan.</p>
<ol type="1">
<li><p>Narrow the California dataset down to only male-assigned babies named “Allan”, “Alan”, or “Allen”. Make a plot comparing the popularity of these names over time.</p></li>
<li><p>In California, Allan’s spelling of his name is the least common of the three - but perhaps it’s not such an unusual name for his home state of Pennsylvania. Compute the total number of babies born with each spelling of “Allan” in 2000, in Pennsylvania and in California.</p></li>
<li><p>Convert your total counts to overall percents. That is, what was the percent breakdown between the three spellings in CA? What about in PA?</p></li>
</ol>
<hr>
</section>
<section id="challenge-9" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="challenge-9"><span class="header-section-number">4</span> Challenge 9</h2>
</section>
<section id="option-a-using-latex-5-challenge-points" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="option-a-using-latex-5-challenge-points"><span class="header-section-number">5</span> Option A: Using <span class="math inline">\(\LaTeX\)</span> [+5 Challenge Points]</h2>
<p><span class="math inline">\(\LaTeX\)</span>, which is pronounced Lah-tech or Lay-tech, is a document preparation system for high-quality typesetting. It is most often used for medium-to-large technical or scientific documents but it can be used for almost any form of publishing. Some of the perks of using <span class="math inline">\(\LaTeX\)</span> are:</p>
<ul>
<li>Typesetting journal articles, technical reports, books, and slide presentations</li>
<li>Control over large documents containing sectioning, cross-references, tables and figures</li>
<li>Typesetting of complex mathematical formulas</li>
<li>Advanced typesetting of mathematics with AMS-LaTeX</li>
<li>Automatic generation of bibliographies and indexes</li>
</ul>
<!-- Link to resources on writing LaTeX -->
<section id="resources" class="level3">
<h3 class="anchored" data-anchor-id="resources">Resources</h3>
<ul>
<li><p><a href="https://github.com/atheobold/IntroLaTeXLesson">Dr.&nbsp;Theobold’s Repository from LaTeX workshop</a></p></li>
<li><p><a href="https://www.overleaf.com/learn/latex/Mathematical_expressions">Overleaf Guide on Mathematical Expressions</a></p></li>
</ul>
</section>
<section id="guidelines" class="level3">
<h3 class="anchored" data-anchor-id="guidelines">Guidelines</h3>
<p>If your group chooses to embark on this adventure. I would like for you to include a nicely formatted <span class="math inline">\(\LaTeX\)</span> equation for your regression model in your written report!</p>
</section>
</section>
<section id="option-b-creating-slick-tables-up-to-20-challenge-points" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="option-b-creating-slick-tables-up-to-20-challenge-points"><span class="header-section-number">6</span> Option B: Creating Slick Tables [Up to +20 Challenge Points]</h2>
<p>Similar to <span class="math inline">\(\LaTeX\)</span>, creating nicely formatted tables is an important aspect to creating a professional report.</p>
<p>For formatting tables output from R, there are a variety of tools for making nicely formatted tables, but the two I recommend are:</p>
<ul>
<li><p>The <code>kable()</code> function from the <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">kable package</a> – For a nice, basic HTML table</p></li>
<li><p>The <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kableextra.html">kableExtra package</a> – For additional styling features of your HTML table</p></li>
</ul>
<p>An additional package you can explore is the <a href="https://rstudio.github.io/DT/">DT Package</a>. This package creates interactive data tables, previewing different aspects of a dataset. This is a nice way to include a preview of a dataset at the beginning of a report!</p>
<section id="guidelines-1" class="level3">
<h3 class="anchored" data-anchor-id="guidelines-1">Guidelines</h3>
<p>If your group chooses to embark on this adventure. I would like for you to include your nicely formatted table in your written report!</p>
<p><strong>+5 Challenge Points</strong>:</p>
<ul>
<li>Table formatted with <code>kable()</code></li>
</ul>
<p><strong>+10 Challenge Points</strong>:</p>
<ul>
<li>Table formatted with <strong>kableExtra</strong></li>
<li>Table created with <strong>DT</strong></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>
---
title: "More About Function Returns `r emo::ji('dollar')` " 
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", "slide-style.css"]
    nature:
      highlightStyle: solarized-light
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      slideNumberFormat: |
        <div class="progress-bar-container">
          <div class="progress-bar" style="width: calc(%current% / %total% * 100%);">
          </div>
        </div>
---


```{r, echo = FALSE, message = FALSE, warning = FALSE, fig.width = 8, fig.height = 6}
knitr::opts_chunk$set(message = FALSE, 
                      warning = FALSE, 
                      fig.align = "center")

options(htmltools.dir.version = FALSE)

library(xaringanthemer)
library(xaringan)
library(tidyverse)
library(tidyverse)
library(flair)
library(palmerpenguins)

style_duo_accent(
  primary_color      = "#0F4C81", # pantone classic blue
  secondary_color    = "#B6CADA", # pantone baby blue
  header_font_google = google_font("Raleway"),
  text_font_google   = google_font("Raleway", "300", "300i"),
  code_font_google   = google_font("Source Code Pro"),
  text_font_size     = "30px"
)


penguins <- penguins %>% 
  select(bill_length_mm:body_mass_g, year, everything()) %>% 
  mutate(year = as.factor(year))
```


class: center, inverse

.larger[Conditional returns]


</br>

.bitlarger[**Value returned _depends_ on the input.**]

---

```{r even, include = FALSE}
even_or_odd <- function(x) {
  
  if (x %% 2 == 0) {
    
    return("It's even!")
    
  } else {
    
    return("It's odd.")
    
  }
  
}

```

```{r, echo = FALSE}
decorate("even") %>%
  flair("x %% 2 == 0") %>%
  flair("It's even!", background = "blue") %>%
  flair("It's odd.", background = "pink")
```

---

class: inverse, center
.huge-text[`print()` versus `return()`]

---

<center>

.larger[`return()`]

</center> 
</br>

.pull-left[
```{r}
even_or_odd <- function(x) {
  
  if (x %% 2 == 0) {
    
    return("It's even!")
    
  } else {
    
    return("It's odd.")
    
  }
  
  
}
```
]

.pull-right[
```{r}
even_or_odd(7)

```
]

---

<center>

.larger[`print()`]

</center> 
</br>

.pull-left[
```{r}
even_or_odd <- function(x) {
  
  if (x %% 2 == 0) {
    
    print("It's even!")
    
  } else {
    
    print("It's odd.")
    
  }
  
}
```
]

.pull-right[
```{r}

even_or_odd(7)

```
]


---

<center>

.bitlarger[`print()` *and* `return()`]

</center> 
</br>

.pull-left[
```{r}
even_or_odd <- function(x) {
  
  if (x %% 2 == 0) {
    
    print("It's even!")
    
  } else {
    
    print("It's odd.")
    
  }
  
  return(x)
  
}
```
]

.pull-right[
```{r}
my_num <- even_or_odd(7)
my_num
```
]


---

class: inverse, center, middle

.huge-text[Returning Errors!]

---

.larger[Conditional Returns Continued...]
.pull-left[
```{r}
add_something <- function(x, something = 2) {
  
  if (!is.numeric(something)) {
    
    stop("Please enter a number!")
    
  }
  
  x + something
  
}
```
]

.pull-right[
```{r, error = TRUE}
add_something(5, something = "bob")
```
]

---

class: inverse, center, middle

.huge-text[Debugging]

---

.bitlarger[**Unexpected Output**]

.pull-left[
```{r}
standardize <- function(data) {
  deviations <- data - mean(data, na.rm = TRUE)
  newdata <- deviations / sd(data, na.rm = TRUE)
  return(newdata)
}
```
]

.pull-right[
```{r, error = TRUE}
penguins %>% 
  mutate_at(vars(bill_length_mm:body_mass_g), 
            standardize)
```
]

---

.larger[Debugging Tricks] 

- `print()` 

- `browser()`

-  `debugonce()`

